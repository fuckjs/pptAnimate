<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/main.css">
	<script src="js/jQuery-2.1.4.min.js"></script>
</head>
<body>
	<div class="BG-panel">
		<div class="circle-lg"></div>
		<div class="circle-left circle-sm"></div>
		<div class="circle-right circle-sm"></div>
		<div class="line-lg"></div>

		<p class="title-sm text1 ">2016年</p>

        <p class="title-sm text2 ">1月25日10点</p>

        <p class="title-sm text3 ">累计注册商户数量</p>
		<p class="title-lg text4  "><span id="text-num">10.0</span>万</p>
	</div>
</body>
<script>
	//判断浏览器是否支持动画
    getVendorPrefix();
    function getVendorPrefix() {
        var agent = navigator.userAgent.toLowerCase();
	    if( agent.indexOf(' applewebkit/') <= -1){
	        alert("请用谷歌浏览器或360浏览器极速模式打开");
	    }
    }
    var sleepTime = 5500;//每页动画结束后的停留时间（以500毫秒结尾）
    var lastSleepTime = 1000;//全部动画结束后的停留时间
    var numSleepTime = 3000;//等待时间后数字变动

    $(".circle-left").addClass('circle-left-1');
    $(".circle-right").addClass('circle-right-1');
    $(".line-lg").addClass('line-lg-show-1');
    $(".text4").addClass('text4-1');

    setTimeout(function () {
        numAnimation('#text-num', 10.1, 31.3, 1, 30.0, 0.1, 31.0, 0.1, 0.1, 1);
    }, numSleepTime);
    
    function numAnimation(f, g, h, i, j, k, l, m, n, o) {//元素、开始值、结束值、小数点位数、1值、1速度、2值、2速度、3速度、回调函数
        var num = g;
        var a = setInterval(function () {
            $(f).text(num.toFixed(i));
            if (num < j) {
                num = (num + k);
            } else {
                clearInterval(a);
                bb();
            }
        }, 5);

        function bb() {
            var b = setInterval(function () {
                $(f).text(num.toFixed(i));
                if (num < l) {
                    num = (num + m);
                } else {
                    clearInterval(b);
                    cc();
                }
            }, 50);
        }

        function cc() {
            var c = setInterval(function () {
                $(f).text(num.toFixed(i));
                if (num < h) {
                    num = (num + n);
                } else {
/*                    switch (o){
                        case 1:
                            ddd1();
                            break;
                        case 2:
                            ddd2();
                            break;
                        case 3:
                            ddd3();
                            break;
                        default : break;
                    }*/
                    clearInterval(c);
                }
            }, 200);
        }

    }
</script>
</html>